[2026-01-08 16:48:22.026] [info] [185172] [mprpcapplication.cpp:628] ========================================
[2026-01-08 16:48:22.026] [info] [185172] [mprpcapplication.cpp:631]   Log Level: INFO
[2026-01-08 16:48:22.026] [info] [185172] [mprpcapplication.cpp:632] ========================================
[2026-01-08 16:48:22.026] [info] [185172] [mprpcapplication.cpp:652] Registering signal handlers...
[2026-01-08 16:48:22.026] [info] [185172] [mprpcapplication.cpp:664] Signal handlers registered (SIGINT, SIGTERM, SIGQUIT)
[2026-01-08 16:48:22.026] [info] [185172] [mprpcapplication.cpp:167] Framework initialized successfully!
[2026-01-08 16:48:22.026] [info] [185172] [mprpcapplication.cpp:168] =================================================
[2026-01-08 16:48:22.026] [info] [185172] [rpcprovider.cpp:90] RpcProvider initialized: ip=127.0.0.1, port=8000, threads=4, max_msg_size=10485760
[2026-01-08 16:48:22.026] [info] [185172] [mprpcapplication.cpp:629] Async spdlog initialized successfully!
[2026-01-08 16:48:22.026] [info] [185172] [rpcprovider.cpp:228] Registered method: UserServiceRpc.Login,
[2026-01-08 16:48:22.026] [info] [185172] [rpcprovider.cpp:228] Registered method: UserServiceRpc.Register,
[2026-01-08 16:48:22.026] [info] [185172] [rpcprovider.cpp:232] Service registered: UserServiceRpc with 2 methods
[2026-01-08 16:48:22.026] [info] [185172] [mprpcapplication.cpp:630]   Mode: Async (Non-blocking)
[2026-01-08 16:48:22.026] [info] [185172] [rpcprovider.cpp:277] RpcProvider starting at 127.0.0.1:8000 with 4 threads
[2026-01-08 16:48:22.026] [info] [185172] [mprpcapplication.cpp:224] Registered shutdown hook #1
[2026-01-08 16:48:22.027] [info] [185172] [zookeeperutil.cpp:62] [ZkClient] Initialized with config:
[2026-01-08 16:48:22.027] [info] [185172] [zookeeperutil.cpp:63]   Host: 127.0.0.1:2181
[2026-01-08 16:48:22.027] [info] [185172] [zookeeperutil.cpp:64]   Session Timeout: 30000 ms
[2026-01-08 16:48:22.027] [info] [185172] [zookeeperutil.cpp:65]   Root Path: /mprpc
[2026-01-08 16:48:22.027] [info] [185172] [zookeeperutil.cpp:90] [ZkClient] Connecting to ZooKeeper: 127.0.0.1:2181
[2026-01-08 16:48:22.029] [info] [185182] [zookeeperutil.cpp:695] [ZkClient] Watcher event: type=-1 , state=3 , path=
[2026-01-08 16:48:22.029] [info] [185182] [zookeeperutil.cpp:701] [ZkClient] Connected to ZooKeeper server.
[2026-01-08 16:48:22.029] [info] [185172] [zookeeperutil.cpp:118] [ZkClient] Connected successfully!
[2026-01-08 16:48:22.029] [info] [185172] [mprpcapplication.cpp:224] Registered shutdown hook #2
[2026-01-08 16:48:22.029] [info] [185172] [zookeeperutil.cpp:559] [ZkClient] Registering service: /mprpc/UserServiceRpc/127.0.0.1:8000
[2026-01-08 16:48:22.031] [info] [185172] [zookeeperutil.cpp:369] [ZkClient] Node created: /mprpc/UserServiceRpc/127.0.0.1:8000
[2026-01-08 16:48:22.031] [info] [185172] [zookeeperutil.cpp:576] [ZkClient] Service registered successfully: /mprpc/UserServiceRpc/127.0.0.1:8000
[2026-01-08 16:48:22.031] [info] [185172] [rpcprovider.cpp:313] Successfully registered service to ZK: UserServiceRpc -> 127.0.0.1:8000
[2026-01-08 16:48:22.031] [info] [185172] [rpcprovider.cpp:322] RpcProvider enter event loop...
[2026-01-08 16:48:25.081] [info] [185177] [rpcprovider.cpp:347] Connection established: 127.0.0.1:40986 , active: 1
[2026-01-08 16:48:25.081] [info] [185178] [rpcprovider.cpp:347] Connection established: 127.0.0.1:40988 , active: 2
[2026-01-08 16:48:25.081] [info] [185179] [rpcprovider.cpp:347] Connection established: 127.0.0.1:40990 , active: 3
[2026-01-08 16:48:25.081] [info] [185180] [rpcprovider.cpp:347] Connection established: 127.0.0.1:41004 , active: 4
[2026-01-08 16:48:26.046] [info] [185180] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:41004 , active: 3
[2026-01-08 16:48:26.046] [info] [185179] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:40990 , active: 2
[2026-01-08 16:48:26.046] [info] [185177] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:40986 , active: 1
[2026-01-08 16:48:26.046] [info] [185178] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:40988 , active: 0
[2026-01-08 17:05:17.263] [info] [185177] [rpcprovider.cpp:347] Connection established: 127.0.0.1:48600 , active: 1
[2026-01-08 17:05:17.263] [info] [185178] [rpcprovider.cpp:347] Connection established: 127.0.0.1:48610 , active: 2
[2026-01-08 17:05:17.263] [info] [185179] [rpcprovider.cpp:347] Connection established: 127.0.0.1:48612 , active: 3
[2026-01-08 17:05:17.264] [info] [185180] [rpcprovider.cpp:347] Connection established: 127.0.0.1:48622 , active: 4
[2026-01-08 17:05:18.262] [info] [185180] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:48622 , active: 3
[2026-01-08 17:05:18.262] [info] [185178] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:48610 , active: 2
[2026-01-08 17:05:18.262] [info] [185177] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:48600 , active: 1
[2026-01-08 17:05:18.264] [info] [185179] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:48612 , active: 0
[2026-01-08 17:16:57.657] [info] [185172] [mprpcapplication.cpp:271] [MprpcApplication] 检查完毕日志是否可用：1
[2026-01-08 17:16:57.657] [info] [185172] [mprpcapplication.cpp:271] [MprpcApplication] [MprpcApplication] 触发优雅shutdown机制，开始逆序调用shutdown hooks...
[2026-01-08 17:16:57.657] [info] [185172] [mprpcapplication.cpp:271] [MprpcApplication] 开始 shutdown hooks，需要执行的hook数量：2
[2026-01-08 17:16:57.657] [info] [185172] [mprpcapplication.cpp:271] [MprpcApplication] Executing shutdown hook, the id is:2
[2026-01-08 17:16:57.657] [info] [185172] [zookeeperutil.cpp:128] [ZkClient] Shutdown hook triggered.
[2026-01-08 17:16:57.657] [info] [185172] [zookeeperutil.cpp:174] [ZkClient] 正在执行 Stop 操作...
[2026-01-08 17:16:57.657] [info] [185172] [zookeeperutil.cpp:174] [ZkClient] 正在关闭 ZooKeeper 连接句柄...
[2026-01-08 17:16:57.658] [info] [185172] [zookeeperutil.cpp:174] [ZkClient] ZooKeeper 连接已安全关闭
[2026-01-08 17:16:57.658] [info] [185172] [mprpcapplication.cpp:271] [MprpcApplication] Executing shutdown hook, the id is:1
[2026-01-08 17:16:57.658] [info] [185172] [rpcprovider.cpp:281] MprpcApplication triggered shutdown, stopping RpcProvider...
[2026-01-08 17:16:57.658] [info] [185172] [rpcprovider.cpp:135] RpcProvider shutting down...
[2026-01-08 17:16:57.658] [info] [185172] [rpcprovider.cpp:142] [Shutdown Step 1] Unregistering from Zookeeper...
[2026-01-08 17:16:57.658] [info] [185172] [rpcprovider.cpp:152] [Shutdown Step 2] Waiting for pending requests...
[2026-01-08 17:16:57.658] [info] [185172] [rpcprovider.cpp:167] All requests finished.
[2026-01-08 17:16:57.658] [info] [185172] [rpcprovider.cpp:190] RpcProvider shutdown complete. Stats - Total: 38, Failed: 0, Partial: 35
[2026-01-08 17:16:57.658] [info] [185172] [mprpcapplication.cpp:271] [MprpcApplication] Shutdown complete.

集群测试：
[2026-01-08 18:46:58.789] [info] [215863] [mprpcapplication.cpp:628] ========================================
[2026-01-08 18:46:58.789] [info] [215863] [mprpcapplication.cpp:631]   Log Level: INFO
[2026-01-08 18:46:58.789] [info] [215863] [mprpcapplication.cpp:632] ========================================
[2026-01-08 18:46:58.789] [info] [215863] [mprpcapplication.cpp:652] Registering signal handlers...
[2026-01-08 18:46:58.789] [info] [215863] [mprpcapplication.cpp:664] Signal handlers registered (SIGINT, SIGTERM, SIGQUIT)
[2026-01-08 18:46:58.789] [info] [215863] [mprpcapplication.cpp:167] Framework initialized successfully!
[2026-01-08 18:46:58.789] [info] [215863] [mprpcapplication.cpp:168] =================================================
[2026-01-08 18:46:58.789] [info] [215863] [rpcprovider.cpp:90] RpcProvider initialized: ip=127.0.0.1, port=8000, threads=4, max_msg_size=10485760
[2026-01-08 18:46:58.789] [info] [215863] [mprpcapplication.cpp:629] Async spdlog initialized successfully!
[2026-01-08 18:46:58.789] [info] [215863] [mprpcapplication.cpp:630]   Mode: Async (Non-blocking)
[2026-01-08 18:46:58.789] [info] [215863] [rpcprovider.cpp:228] Registered method: UserServiceRpc.Login,
[2026-01-08 18:46:58.789] [info] [215863] [rpcprovider.cpp:228] Registered method: UserServiceRpc.Register,
[2026-01-08 18:46:58.789] [info] [215863] [rpcprovider.cpp:232] Service registered: UserServiceRpc with 2 methods
[2026-01-08 18:46:58.789] [info] [215863] [rpcprovider.cpp:277] RpcProvider starting at 127.0.0.1:8000 with 4 threads
[2026-01-08 18:46:58.789] [info] [215863] [mprpcapplication.cpp:224] Registered shutdown hook #1
[2026-01-08 18:46:58.790] [info] [215863] [zookeeperutil.cpp:62] [ZkClient] Initialized with config:
[2026-01-08 18:46:58.790] [info] [215863] [zookeeperutil.cpp:63]   Host: 127.0.0.1:2181
[2026-01-08 18:46:58.790] [info] [215863] [zookeeperutil.cpp:64]   Session Timeout: 30000 ms
[2026-01-08 18:46:58.790] [info] [215863] [zookeeperutil.cpp:65]   Root Path: /mprpc
[2026-01-08 18:46:58.790] [info] [215863] [zookeeperutil.cpp:90] [ZkClient] Connecting to ZooKeeper: 127.0.0.1:2181
[2026-01-08 18:46:58.793] [info] [215873] [zookeeperutil.cpp:695] [ZkClient] Watcher event: type=-1 , state=3 , path=
[2026-01-08 18:46:58.793] [info] [215873] [zookeeperutil.cpp:701] [ZkClient] Connected to ZooKeeper server.
[2026-01-08 18:46:58.793] [info] [215863] [zookeeperutil.cpp:118] [ZkClient] Connected successfully!
[2026-01-08 18:46:58.793] [info] [215863] [mprpcapplication.cpp:224] Registered shutdown hook #2
[2026-01-08 18:46:58.793] [info] [215863] [zookeeperutil.cpp:559] [ZkClient] Registering service: /mprpc/UserServiceRpc/127.0.0.1:8000
[2026-01-08 18:46:58.794] [info] [215863] [zookeeperutil.cpp:369] [ZkClient] Node created: /mprpc/UserServiceRpc/127.0.0.1:8000
[2026-01-08 18:46:58.794] [info] [215863] [zookeeperutil.cpp:576] [ZkClient] Service registered successfully: /mprpc/UserServiceRpc/127.0.0.1:8000
[2026-01-08 18:46:58.794] [info] [215863] [rpcprovider.cpp:313] Successfully registered service to ZK: UserServiceRpc -> 127.0.0.1:8000
[2026-01-08 18:46:58.794] [info] [215863] [rpcprovider.cpp:322] RpcProvider enter event loop...
[2026-01-08 18:49:11.406] [info] [215868] [rpcprovider.cpp:347] Connection established: 127.0.0.1:40144 , active: 1
[2026-01-08 18:49:11.406] [info] [215869] [rpcprovider.cpp:347] Connection established: 127.0.0.1:40158 , active: 2
[2026-01-08 18:49:11.406] [info] [215870] [rpcprovider.cpp:347] Connection established: 127.0.0.1:40160 , active: 3
[2026-01-08 18:49:11.406] [info] [215871] [rpcprovider.cpp:347] Connection established: 127.0.0.1:40170 , active: 4
[2026-01-08 18:49:12.405] [info] [215869] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:40158 , active: 2
[2026-01-08 18:49:12.405] [info] [215868] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:40144 , active: 1
[2026-01-08 18:49:12.405] [info] [215870] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:40160 , active: 0
[2026-01-08 18:49:12.405] [info] [215871] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:40170 , active: 3


健壮性测试：

[2026-01-08 19:04:02.180] [info] [221855] [mprpcapplication.cpp:628] ========================================
[2026-01-08 19:04:02.180] [info] [221855] [mprpcapplication.cpp:631]   Log Level: INFO
[2026-01-08 19:04:02.180] [info] [221855] [mprpcapplication.cpp:632] ========================================
[2026-01-08 19:04:02.180] [info] [221855] [mprpcapplication.cpp:652] Registering signal handlers...
[2026-01-08 19:04:02.180] [info] [221855] [mprpcapplication.cpp:664] Signal handlers registered (SIGINT, SIGTERM, SIGQUIT)
[2026-01-08 19:04:02.180] [info] [221855] [mprpcapplication.cpp:167] Framework initialized successfully!
[2026-01-08 19:04:02.180] [info] [221855] [mprpcapplication.cpp:168] =================================================
[2026-01-08 19:04:02.180] [info] [221855] [rpcprovider.cpp:90] RpcProvider initialized: ip=127.0.0.1, port=8000, threads=4, max_msg_size=10485760
[2026-01-08 19:04:02.180] [info] [221855] [mprpcapplication.cpp:629] Async spdlog initialized successfully!
[2026-01-08 19:04:02.180] [info] [221855] [mprpcapplication.cpp:630]   Mode: Async (Non-blocking)
[2026-01-08 19:04:02.180] [info] [221855] [rpcprovider.cpp:228] Registered method: UserServiceRpc.Login,
[2026-01-08 19:04:02.180] [info] [221855] [rpcprovider.cpp:228] Registered method: UserServiceRpc.Register,
[2026-01-08 19:04:02.180] [info] [221855] [rpcprovider.cpp:232] Service registered: UserServiceRpc with 2 methods
[2026-01-08 19:04:02.180] [info] [221855] [rpcprovider.cpp:277] RpcProvider starting at 127.0.0.1:8000 with 4 threads
[2026-01-08 19:04:02.180] [info] [221855] [mprpcapplication.cpp:224] Registered shutdown hook #1
[2026-01-08 19:04:02.180] [info] [221855] [zookeeperutil.cpp:62] [ZkClient] Initialized with config:
[2026-01-08 19:04:02.180] [info] [221855] [zookeeperutil.cpp:63]   Host: 127.0.0.1:2181
[2026-01-08 19:04:02.181] [info] [221855] [zookeeperutil.cpp:64]   Session Timeout: 30000 ms
[2026-01-08 19:04:02.181] [info] [221855] [zookeeperutil.cpp:65]   Root Path: /mprpc
[2026-01-08 19:04:02.181] [info] [221855] [zookeeperutil.cpp:90] [ZkClient] Connecting to ZooKeeper: 127.0.0.1:2181
[2026-01-08 19:04:02.183] [info] [221865] [zookeeperutil.cpp:695] [ZkClient] Watcher event: type=-1 , state=3 , path=
[2026-01-08 19:04:02.183] [info] [221865] [zookeeperutil.cpp:701] [ZkClient] Connected to ZooKeeper server.
[2026-01-08 19:04:02.183] [info] [221855] [zookeeperutil.cpp:118] [ZkClient] Connected successfully!
[2026-01-08 19:04:02.183] [info] [221855] [mprpcapplication.cpp:224] Registered shutdown hook #2
[2026-01-08 19:04:02.183] [info] [221855] [zookeeperutil.cpp:559] [ZkClient] Registering service: /mprpc/UserServiceRpc/127.0.0.1:8000
[2026-01-08 19:04:02.184] [info] [221855] [zookeeperutil.cpp:369] [ZkClient] Node created: /mprpc/UserServiceRpc/127.0.0.1:8000
[2026-01-08 19:04:02.184] [info] [221855] [zookeeperutil.cpp:576] [ZkClient] Service registered successfully: /mprpc/UserServiceRpc/127.0.0.1:8000
[2026-01-08 19:04:02.184] [info] [221855] [rpcprovider.cpp:313] Successfully registered service to ZK: UserServiceRpc -> 127.0.0.1:8000
[2026-01-08 19:04:02.184] [info] [221855] [rpcprovider.cpp:322] RpcProvider enter event loop...
[2026-01-08 19:04:06.453] [info] [221860] [rpcprovider.cpp:347] Connection established: 127.0.0.1:47406 , active: 1
[2026-01-08 19:04:06.453] [info] [221861] [rpcprovider.cpp:347] Connection established: 127.0.0.1:47420 , active: 2
[2026-01-08 19:04:06.453] [info] [221862] [rpcprovider.cpp:347] Connection established: 127.0.0.1:47424 , active: 3
[2026-01-08 19:04:06.453] [info] [221863] [rpcprovider.cpp:347] Connection established: 127.0.0.1:47440 , active: 4
[2026-01-08 19:04:11.319] [info] [221855] [mprpcapplication.cpp:271] [MprpcApplication] 检查完毕日志是否可用：1
[2026-01-08 19:04:11.319] [info] [221855] [mprpcapplication.cpp:271] [MprpcApplication] 开始 shutdown hooks，需要执行的hook数量：2
[2026-01-08 19:04:11.319] [info] [221855] [mprpcapplication.cpp:271] [MprpcApplication] Executing shutdown hook, the id is:2
[2026-01-08 19:04:11.319] [info] [221855] [zookeeperutil.cpp:128] [ZkClient] Shutdown hook triggered.
[2026-01-08 19:04:11.319] [info] [221855] [zookeeperutil.cpp:174] [ZkClient] 正在执行 Stop 操作...
[2026-01-08 19:04:11.319] [info] [221855] [zookeeperutil.cpp:174] [ZkClient] 正在关闭 ZooKeeper 连接句柄...
[2026-01-08 19:04:11.319] [info] [221855] [mprpcapplication.cpp:271] [MprpcApplication] [MprpcApplication] 触发优雅shutdown机制，开始逆序调用shutdown hooks...
[2026-01-08 19:04:11.319] [info] [221855] [zookeeperutil.cpp:174] [ZkClient] ZooKeeper 连接已安全关闭
[2026-01-08 19:04:11.319] [info] [221855] [mprpcapplication.cpp:271] [MprpcApplication] Executing shutdown hook, the id is:1
[2026-01-08 19:04:11.319] [info] [221855] [rpcprovider.cpp:281] MprpcApplication triggered shutdown, stopping RpcProvider...
[2026-01-08 19:04:11.319] [info] [221855] [rpcprovider.cpp:142] [Shutdown Step 1] Unregistering from Zookeeper...
[2026-01-08 19:04:11.319] [info] [221855] [rpcprovider.cpp:152] [Shutdown Step 2] Waiting for pending requests...
[2026-01-08 19:04:11.319] [info] [221855] [rpcprovider.cpp:167] All requests finished.
[2026-01-08 19:04:11.319] [info] [221855] [rpcprovider.cpp:135] RpcProvider shutting down...
[2026-01-08 19:04:11.319] [info] [221855] [rpcprovider.cpp:190] RpcProvider shutdown complete. Stats - Total: 2, Failed: 0, Partial: 2
[2026-01-08 19:04:11.319] [info] [221855] [mprpcapplication.cpp:271] [MprpcApplication] Shutdown complete.
[2026-01-08 19:04:11.319] [info] [221860] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:47406 , active: 3
[2026-01-08 19:04:11.320] [info] [221861] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:47420 , active: 2
[2026-01-08 19:04:17.454] [info] [221863] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:47440 , active: 1
[2026-01-08 19:04:17.454] [info] [221862] [rpcprovider.cpp:352] Connection closed: 127.0.0.1:47424 , active: 0